<!DOCTYPE html>
<html>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>图形样式 - 根据zoom设置样式</title>
<style type="text/css">
</style>
<script src="js/dat.gui.min.js"></script>
<link rel="stylesheet" href="js/maptalks.css">
<script src="js/maptalks.js"></script>
<script src="js/three.min124.js"></script>
<script src="js/stats124.min.js"></script>
<script src="js/maptalks.three.js"></script>
<link rel="stylesheet" href="js/mapbox-gl2.9.1.css">
<script src="js/mapbox-gl2.9.1.js"></script>
<script src="./js/maptalks.mapboxgl.js"></script>
<script src="js/maptalksgl.js"></script>
<script type="text/javascript" src="./js/geoutil.js"></script>
<script type="text/javascript" src="./js/THREE.MeshLine.js"></script>
<script src="js/GLTFLoader124.js"></script>
<script src="js/CopyShader124.js"></script>
<script src="js/EffectComposer124.js"></script>
<script src="js/tween.umd.js"></script>
<script src="js/RenderPass124.js"></script>
<script src="js/ShaderPass124.js"></script>
<script type="text/javascript" src="./js/UnrealBloomPass.js"></script>
<script src="js/mapbox-gl-language.js"></script>
<script src="js/LuminosityHighPassShader124.js"></script>
<script src="js/maptaljs"></script>
<script src="js/maptalks-gl-layers.js"></script>


<style>
  html,
  body {
    margin: 0px;
    height: 100%;
    width: 100%;
    background-color: #232630;
  }

  #map {
    width: 100%;
    height: 100%;

  }

  .maptalks-attribution,
  .mapboxgl-ctrl-bottom-left,
  .mapboxgl-ctrl-bottom-right {
    display: none;
  }
</style>

<body>

    <div id="map" class="container"></div>
    <div class="pane">Size changes with zoom</div>
  
    <script>
  
      mapboxgl.accessToken = 'pk.eyJ1Ijoid2FuZ2p1bjEzMDMiLCJhIjoiY2l4OHBscnYwMDAwdTJ5cWY5cnRrZGM0ZSJ9.FQy75sTd5x1dujqvTsLzvA';
      var baseLayer = new maptalks.MapboxglLayer('tile', {
        glOptions: {
          'style': 'mapbox://styles/mapbox/dark-v9',
        }
      })
      var map = new maptalks.Map("map", {
        // maxPitch: 100,
        center: [121.148931, 30.050727],
        zoom: 14,
        maxZoom: 16,
        pitch: 73,
        bearing: 180,
        // seamlessZoom:false,
        baseLayer: baseLayer,
        lights: {
          ambient: {
            color: [1, 1, 1],
            exposure: 1,
          },
          directional: {
            color: [0, 1, 1],
            lightColorIntensity: 5000,
            direction: [1, -0.4, -1],
          }
        }
      });
 
 
      var layer = new maptalks.VectorLayer('vector').addTo(map);
      var marker = new maptalks.Marker([121.235361299823, 29.9271308151167]).addTo(layer);
 
 
      marker.setInfoWindow({
        'title'     : 'Marker\'s InfoWindow',
        'content'   : 'Click on marker to open.',
 
 
        'autoPan': true,
        'width': 300,
        'minHeight': 120,
        'custom': false,
        'autoOpenOn' : 'click',  //set to null if not to open when clicking on marker
        'autoCloseOn' : 'click'
      });
 
 
      marker.openInfoWindow();
 
 
    </script>
  </body>
</html>